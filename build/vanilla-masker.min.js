!function(a,b){"function"==typeof define&&define.amd?define(b):a.VanillaMasker=b()}(this,function(){var a="9",b="A",c=[9,16,17,18,36,37,38,39,40,91,92,93],d=function(a){a=a||{},this.opts={precision:a.hasOwnProperty("precision")?a.precision:2,separator:a.separator||",",delimiter:a.delimiter||".",unit:a.unit&&a.unit+" "||"",suffixUnit:a.suffixUnit&&" "+a.suffixUnit||"",zeroCents:a.zeroCents,suppressLogging:a.suppressLogging?!0:!1},this.lastOutput="",this.moneyPrecision=a.zeroCents?0:this.opts.precision};return d.prototype.bindElementToMask=function(a,b,c){try{for(var d=this,e=a.length?a:[a],f=function(a){var e=a.target||a.srcElement;d.isAllowedKeyCode(a.keyCode)&&setTimeout(function(){e.value=d[b](e.value,c),e.setSelectionRange&&d.opts.suffixUnit.length&&e.setSelectionRange(e.value.length,e.value.length-d.opts.suffixUnit.length)},0)},g=0,h=e.length;h>g;g++)e[g].addEventListener?(e[g].addEventListener("keyup",f),e[g].addEventListener("keydown",f)):(e[g].attachEvent("onkeyup",f),e[g].attachEvent("onkeydown",f)),e[g].value.length&&(e[g].value=this[b](e[g].value,c),this.lastOutput="")}catch(i){this.opts.suppressLogging||console.log("VanillaMasker: There is no element to bind.")}},d.prototype.isAllowedKeyCode=function(a){for(var b=0,d=c.length;d>b;b++)if(a==c[b])return!1;return!0},d.prototype.maskMoney=function(a){this.bindElementToMask(a,"toMoney")},d.prototype.toMoney=function(a){if(this.opts.zeroCents){var b="("+this.opts.separator+"[0]{0,"+this.opts.precision+"})",c=new RegExp(b,"g"),d=a.toString().replace(/[\D]/g,"").length||0,e=this.lastOutput.toString().replace(/[\D]/g,"").length||0;a=a.toString().replace(c,""),e>d&&(a=a.slice(0,a.length-1))}var f=a.toString().replace(/[\D]/g,""),g=new RegExp("^(0|\\"+this.opts.delimiter+")"),h=new RegExp("(\\"+this.opts.separator+")$"),i=f.substr(0,f.length-this.moneyPrecision),j=i.substr(0,i.length%3),k=new Array(this.opts.precision+1).join("0");i=i.substr(i.length%3,i.length);for(var l=0,m=i.length;m>l;l++)l%3===0&&(j+=this.opts.delimiter),j+=i[l];if(j=j.replace(g,""),j=j.length?j:"0",!this.opts.zeroCents){var n=f.length-this.opts.precision,o=f.substr(n,this.opts.precision),p=o.length,q=this.opts.precision>p?this.opts.precision:p;k=(k+o).slice(-q)}var r=this.opts.unit+j+this.opts.separator+k+this.opts.suffixUnit;return this.lastOutput=r=r.replace(h,""),r},d.prototype.maskNumber=function(a){this.bindElementToMask(a,"toNumber")},d.prototype.toNumber=function(a){return a.toString().replace(/(?!^-)[^0-9]/g,"")},d.prototype.maskPattern=function(a,b){this.bindElementToMask(a,"toPattern",b)},d.prototype.toPattern=function(c,d){var e,f=d.split(""),g=c.toString().replace(/[^0-9a-zA-Z]/g,""),h=0;for(e=0;e<f.length&&!(h>=g.length);e++)f[e]===a&&g[h].match(/[0-9]/)||f[e]===b&&g[h].match(/[a-zA-Z]/)?f[e]=g[h++]:(f[e]===a||f[e]===b)&&(f=f.slice(0,e));return f.join("").substr(0,e)},d});