!function(a,b){"function"==typeof define&&define.amd?define(b):a.VanillaMasker=b()}(this,function(){var a="9",b="A",c=[9,16,17,18,36,37,38,39,40,91,92,93],d=function(a){a=a||{},this.opts={precision:a.hasOwnProperty("precision")?a.precision:2,separator:a.separator||",",delimiter:a.delimiter||".",unit:a.unit&&a.unit+" "||"",suffixUnit:a.suffixUnit&&" "+a.suffixUnit||"",zeroCents:a.zeroCents,suppressLogging:a.suppressLogging?!0:!1},this.moneyPrecision=a.zeroCents?0:this.opts.precision};return d.prototype.bindElementToMask=function(a,b,c){try{for(var d=this,e=a.length?a:[a],f=function(a){var e=a.target||a.srcElement;d.isAllowedKeyCode(a.keyCode)&&setTimeout(function(){e.value=d[b](e.value,c||e.lastOutput),e.lastOutput=e.value,e.setSelectionRange&&d.opts.suffixUnit.length&&e.setSelectionRange(e.value.length,e.value.length-d.opts.suffixUnit.length)},0)},g=0,h=e.length;h>g;g++)e[g].lastOutput="",e[g].addEventListener?(e[g].addEventListener("keyup",f),e[g].addEventListener("keydown",f)):(e[g].attachEvent("onkeyup",f),e[g].attachEvent("onkeydown",f)),e[g].value.length&&(e[g].value=this[b](e[g].value,c))}catch(i){this.opts.suppressLogging||console.log("VanillaMasker: There is no element to bind.")}},d.prototype.isAllowedKeyCode=function(a){for(var b=0,d=c.length;d>b;b++)if(a==c[b])return!1;return!0},d.prototype.maskMoney=function(a){this.bindElementToMask(a,"toMoney")},d.prototype.toMoney=function(a,b){if(this.opts.zeroCents){b=b||"";var c="("+this.opts.separator+"[0]{0,"+this.opts.precision+"})",d=new RegExp(c,"g"),e=a.toString().replace(/[\D]/g,"").length||0,f=b.toString().replace(/[\D]/g,"").length||0;a=a.toString().replace(d,""),f>e&&(a=a.slice(0,a.length-1))}var g=a.toString().replace(/[\D]/g,""),h=new RegExp("^(0|\\"+this.opts.delimiter+")"),i=new RegExp("(\\"+this.opts.separator+")$"),j=g.substr(0,g.length-this.moneyPrecision),k=j.substr(0,j.length%3),l=new Array(this.opts.precision+1).join("0");j=j.substr(j.length%3,j.length);for(var m=0,n=j.length;n>m;m++)m%3===0&&(k+=this.opts.delimiter),k+=j[m];if(k=k.replace(h,""),k=k.length?k:"0",!this.opts.zeroCents){var o=g.length-this.opts.precision,p=g.substr(o,this.opts.precision),q=p.length,r=this.opts.precision>q?this.opts.precision:q;l=(l+p).slice(-r)}var s=this.opts.unit+k+this.opts.separator+l+this.opts.suffixUnit;return s.replace(i,"")},d.prototype.maskNumber=function(a){this.bindElementToMask(a,"toNumber")},d.prototype.toNumber=function(a){return a.toString().replace(/(?!^-)[^0-9]/g,"")},d.prototype.maskPattern=function(a,b){this.bindElementToMask(a,"toPattern",b)},d.prototype.toPattern=function(c,d){var e,f=d.split(""),g=c.toString().replace(/[^0-9a-zA-Z]/g,""),h=0;for(e=0;e<f.length&&!(h>=g.length);e++)f[e]===a&&g[h].match(/[0-9]/)||f[e]===b&&g[h].match(/[a-zA-Z]/)?f[e]=g[h++]:(f[e]===a||f[e]===b)&&(f=f.slice(0,e));return f.join("").substr(0,e)},d});